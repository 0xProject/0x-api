{"version":3,"file":"transform_erc20_rule.js","sourceRoot":"","sources":["../../../../../src/asset-swapper/quote_consumers/feature_rules/transform_erc20_rule.ts"],"names":[],"mappings":"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"}